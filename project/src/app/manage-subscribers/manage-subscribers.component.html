<div class="container my-5">
  <h2 class="text-center mb-4">Manage Subscribers</h2>
  
  <div *ngIf="isEditing">
    <h4>Edit Subscriber</h4>
    <form (ngSubmit)="saveSubscriber()">
      <div class="form-group">
        <label for="startDate">Start Date</label>
        <input type="date" id="startDate" [(ngModel)]="selectedSubscriber.start_date" name="start_date" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="endDate">End Date</label>
        <input type="date" id="endDate" [(ngModel)]="selectedSubscriber.end_date" name="end_date" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="activityLevel">Activity Level</label>
        <input type="text" id="activityLevel" [(ngModel)]="selectedSubscriber.activity_level" name="activity_level" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="fitnessGoal">Fitness Goal</label>
        <input type="text" id="fitnessGoal" [(ngModel)]="selectedSubscriber.fitness_goal" name="fitness_goal" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="fitnessLevel">Fitness Level</label>
        <input type="text" id="fitnessLevel" [(ngModel)]="selectedSubscriber.fitness_level" name="fitness_level" class="form-control" required>
      </div>
      <button type="submit" class="btn btn-primary">Save</button>
      <button type="button" class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
    </form>
  </div>

  <table *ngIf="!isEditing" class="table table-bordered table-hover mt-4">
    <thead class="thead-dark">
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Gender</th>
        <th>Birth Date</th>
        <th>Subscription Start Date</th>
        <th>Subscription End Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let subscriber of subscribers">
        <td>{{ subscriber.name }}</td>
        <td>{{ subscriber.email }}</td>
        <td>{{ subscriber.male ? 'Male' : 'Female' }}</td>
        <td>{{ subscriber.birth_date }}</td>
        <td>{{ subscriber.start_date }}</td>
        <td>{{ subscriber.end_date }}</td>
        <td>
          <button (click)="editSubscriber(subscriber)" class="btn btn-primary btn-sm">Edit</button>
          <button (click)="deleteSubscriber(subscriber.id)" class="btn btn-danger btn-sm">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
